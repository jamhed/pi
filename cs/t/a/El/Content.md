Определяемое uri содержимое.

При смене hash в uri браузера происходит
загрузка содержимого и отображение.

Страницы кэшируются по значению uri. Для этого используется
метод jQuery.detach(). Если отсоединенный элемент найден
в кэше, то загрузки и инициализации не происходит.

Исходный загруженный текст (до обработки) кешируется в @text

Содержимое заворачивается в div-элемент для того,
чтобы можно было для него использовать $.detach(),
с целью сохранения jquery-ассоциаций (методов click)