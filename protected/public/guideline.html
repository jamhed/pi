<div pi="a/El/Markdown" style="display: none">
# Pi guidelines  
  
### Вводные
  
html-элементы помечаются специальным атрибутом pi=[имя]. При загрузке страницы происходит поиск
всех таких элементов, и загрузка модулей по имени посредством requirejs. Загруженный модуль,
являющийся классом, наследуемым от a/Pi, инстанциируется объектом класса для каждого такого элемента
сразу после загрузки.

pi-элементы обмениваются сообщениями, могут делать запросы и подписываться на события.
Универсальный формат сообщения: selector@event, где selector -- jquery-селектор html-элемента,
а event -- произвольная текстовая строка являющяяся идентификатором события.

### События и rpc

subscribe(target, event, callback)

подписаться на событие event элементов определяемых селектором target. при наступлении события
будет вызван метод callback с развернутыыми аргументами переданными через msg(e, args)

msg(event, args)

сгенерировать событие event вызвав все подписанные на него через subscribe обработчики с аргументами args

rpc(targets, args, callback)

запрос на исполнение к выбранным элементам, c аргументами args. по результатам будет вызван
метод callback которому будет передан результат вызова функции f(args...) из опубликованного события 
где targets вида "selector@method, ..."

### Общение с сервером

post-запросы стандартного вида.

rte, sse, status

### Вложенные шаблоны

Общение между элементами, которые не определяются через css-селектор, типа динамически вставляемые.

</div>