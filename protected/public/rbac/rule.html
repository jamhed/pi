<script name="rbac/rule/row" pi="a/Source" type="text/x-dot">
<tr>
<td>{{= it.name }}</td>
<td>{{= it.match }}</td>
<td><a pi="a/Pager/Dialog" href="#" class="btn btn-small" id="{{= it.id }}" msg="tbody@reload" prefix="rbac/rule" data-id="{{= it.id }}">Править</a></td>
</tr>
</script>

<script name="rbac/rule/edit" pi="a/Source" type="text/x-dot">
<div title="Правило">
   <form method="POST" class="form-horizontal">

   <div class="control-group">
      <div pi="a/Template" name="h-input" data-fname="Название" data-name="name" data-value="{{! it.o.name }}"></div>
      <div pi="a/Template" name="h-input" data-fname="Правило" data-name="match" data-value="{{! it.o.match }}"></div>
      <input class="form" type="hidden" name="id" value="{{= it.o.id }}">
   </div>

   <button pi="a/Form" el=".form" class="btn" msg="#{{= it.o.id }}[prefix='rbac/rule']@save">Сохранить</button>
   {{? it.o.id }}
   <button pi="a/Button" class="btn" msg="#{{= it.o.id }}[prefix='rbac/rule']@delete" data-id="{{= it.o.id }}">Удалить</button>
   {{?}}

   </form>
</div>
</script>


<table class="table table-striped">
<caption pi="a/Template" replace name="table/caption" data-name="Правила" data-prefix="rbac/rule"></caption>
<thead>
<tr>
   <th>Название</th>
   <th>Правило</th>
   <th></th>
</tr>
</thead>
<tbody pi="a/Pager" uri="/rbac/rule/table" row="rbac/rule/row" msg=".pagination@pager/load" filter=".filter">
</tbody>
</table>
