// Generated by CoffeeScript 1.6.2
var __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

define(["a/Pi"], function(aPi) {
  var aPagerNav;
  return aPagerNav = (function(_super) {
    __extends(aPagerNav, _super);

    aPagerNav.prototype.load = 0;

    aPagerNav.prototype.attr = function() {
      return aPagerNav.__super__.attr.apply(this, arguments).concat(["name", "target"]);
    };

    function aPagerNav() {
      var _this = this;
      aPagerNav.__super__.constructor.apply(this, arguments);
      this.sub("pager/load", function(ev, data) {
        _this.load = 1;
        if ((data != null ? data.page : void 0) >= 0) {
          _this.e.html(_this.rt.source(_this.a.name, {
            page: data.page + 1,
            page_count: data.page_count
          }));
          $("[name=forward]", _this.e).click(function() {
            return _this.pub(_this.a.target + "@forward", 1);
          });
          $("[name=fast-forward]", _this.e).click(function() {
            return _this.pub(_this.a.target + "@forward", 10);
          });
          $("[name=back]", _this.e).click(function() {
            return _this.pub(_this.a.target + "@backward", 1);
          });
          return $("[name=fast-back]", _this.e).click(function() {
            return _this.pub(_this.a.target + "@backward", 10);
          });
        }
      });
      if (!this.load) {
        this.pub(this.a.target + "@init");
      }
    }

    aPagerNav.prototype.init = function() {};

    return aPagerNav;

  })(aPi);
});
